const OUTPUT_DIR = 'dist';
const MAIN_APP_CONFIG = 'app.json';
const MANIFEST_FILE = 'manifest.json';

const VITE_DEFAULT_PORT = 5173;
const WEBSOCKET_PORT = 5174;

const ROLLUP_OPTIONS = {
  // Deps to exclude from the bundle
  external: ['react', 'react-dom', '@remote-ui/react'],
  output: {
    // Maps libs to the variables to be injected via the window
    globals: {
      react: 'React',
      '@remote-ui/react': 'RemoteUI',
    },
    extend: true,
  },
};

const EXTENSIONS_MESSAGE_VERSION = 1;
const WEBSOCKET_MESSAGE_VERSION = 0;

const SERVER_CAPABILITIES = [
  // Supports running app functions locally
  'app-functions-local-dev',
];

module.exports = {
  ROLLUP_OPTIONS,
  OUTPUT_DIR,
  MAIN_APP_CONFIG,
  MANIFEST_FILE,
  EXTENSIONS_MESSAGE_VERSION,
  VITE_DEFAULT_PORT,
  WEBSOCKET_MESSAGE_VERSION,
  WEBSOCKET_PORT,
  SERVER_CAPABILITIES,
};
